<!DOCTYPE html>

<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=360, height=550, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ğŸ¦ ì€í–‰ç‹</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

```
    body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        width: 360px;
        height: 550px;
        overflow: hidden;
        font-size: 9px;
        position: fixed;
        top: 0;
        left: 0;
        line-height: 1.1;
    }

    .flex { display: flex; }
    .flex-col { flex-direction: column; }
    .items-center { align-items: center; }
    .justify-center { justify-content: center; }
    .justify-between { justify-content: space-between; }
    .gap-1 { gap: 0.15rem; }

    .w-full { width: 100%; }
    .h-full { height: 100%; }
    .p-1 { padding: 0.15rem; }
    .p-2 { padding: 0.3rem; }
    .px-1 { padding-left: 0.15rem; padding-right: 0.15rem; }
    .py-1 { padding-top: 0.15rem; padding-bottom: 0.15rem; }
    .mb-1 { margin-bottom: 0.15rem; }

    .text-xs { font-size: 0.55rem; line-height: 1; }
    .text-sm { font-size: 0.65rem; line-height: 1.1; }
    .text-base { font-size: 0.75rem; line-height: 1.1; }

    .font-bold { font-weight: 700; }
    .font-mono { font-family: ui-monospace, SFMono-Regular, monospace; }
    .text-center { text-align: center; }

    .text-white { color: white; }
    .text-gray-600 { color: #4b5563; }
    .text-gray-800 { color: #1f2937; }
    .text-blue-200 { color: #bfdbfe; }
    .text-blue-300 { color: #93c5fd; }
    .text-blue-600 { color: #2563eb; }
    .text-blue-800 { color: #1e40af; }
    .text-green-300 { color: #86efac; }
    .text-green-600 { color: #16a34a; }
    .text-red-300 { color: #fca5a5; }
    .text-red-600 { color: #dc2626; }
    .text-yellow-300 { color: #fde047; }
    .text-yellow-600 { color: #ca8a04; }

    .bg-white { background-color: white; }
    .bg-gray-100 { background-color: #f3f4f6; }
    .bg-gray-700 { background-color: #374151; }
    .bg-gray-800 { background-color: #1f2937; }
    .bg-gray-900 { background-color: #111827; }
    .bg-blue-100 { background-color: #dbeafe; }
    .bg-blue-600 { background-color: #2563eb; }
    .bg-blue-800 { background-color: #1e40af; }
    .bg-blue-900 { background-color: #1e3a8a; }
    .bg-green-100 { background-color: #dcfce7; }
    .bg-red-50 { background-color: #fef2f2; }
    .bg-yellow-100 { background-color: #fef3c7; }

    .bg-gradient-start {
        background: linear-gradient(135deg, #1e3a8a 0%, #7c3aed 50%, #1e40af 100%);
    }
    .bg-gradient-bank {
        background: linear-gradient(180deg, #dbeafe 0%, #bfdbfe 100%);
    }

    .btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        border: none;
        border-radius: 0.2rem;
        font-weight: 600;
        cursor: pointer;
        font-size: 0.55rem;
        padding: 0.2rem 0.3rem;
    }
    .btn:active { transform: translateY(1px); }
    .btn:disabled { opacity: 0.5; cursor: not-allowed; }
    .btn-primary { background-color: #2563eb; color: white; }
    .btn-secondary { background-color: #6b7280; color: white; }

    .input {
        width: 100%;
        padding: 0.2rem;
        border: 1px solid #d1d5db;
        border-radius: 0.2rem;
        font-size: 0.6rem;
    }
    .input:focus {
        outline: none;
        border-color: #2563eb;
    }

    .slider {
        -webkit-appearance: none;
        width: 100%;
        height: 0.5rem;
        border-radius: 0.2rem;
        background: #d1d5db;
        outline: none;
        cursor: pointer;
    }
    .slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        height: 0.7rem;
        width: 0.7rem;
        border-radius: 50%;
        background: #2563eb;
        cursor: pointer;
        border: 1px solid #1e40af;
    }

    .alert {
        padding: 0.2rem;
        border-radius: 0.2rem;
        border-left: 2px solid;
        margin-bottom: 0.1rem;
    }
    .alert-warning {
        background-color: #fef3c7;
        border-color: #f59e0b;
        color: #92400e;
    }
    .alert-danger {
        background-color: #fee2e2;
        border-color: #ef4444;
        color: #991b1b;
    }

    @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.5; }
    }
    @keyframes bounce {
        0%, 20%, 53%, 80%, 100% { transform: translate3d(0,0,0); }
        40%, 43% { transform: translate3d(0, -3px, 0); }
    }
    .animate-pulse { animation: pulse 2s infinite; }
    .animate-bounce { animation: bounce 1s infinite; }

    .grid { display: grid; }
    .grid-cols-3 { grid-template-columns: repeat(3, 1fr); }
    .border { border: 1px solid #d1d5db; }
    .border-2 { border: 2px solid; }
    .border-blue-400 { border-color: #60a5fa; }
    .rounded { border-radius: 0.2rem; }
    .rounded-full { border-radius: 50%; }

    .absolute { position: absolute; }
    .relative { position: relative; }
    .fixed { position: fixed; }
    .inset-0 { top: 0; right: 0; bottom: 0; left: 0; }
    .top-0 { top: 0; }
    .top-1 { top: 0.15rem; }
    .bottom-0 { bottom: 0; }
    .bottom-1 { bottom: 0.15rem; }
    .left-0 { left: 0; }
    .left-1 { left: 0.15rem; }
    .left-1\/2 { left: 50%; }
    .right-1 { right: 0.15rem; }
    .-translate-x-1\/2 { transform: translateX(-50%); }

    .z-10 { z-index: 10; }
    .z-20 { z-index: 20; }
    .z-30 { z-index: 30; }
    .z-50 { z-index: 50; }

    .overflow-hidden { overflow: hidden; }
    .overflow-y-auto { overflow-y: auto; }
    .scrollbar-hide {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }
    .scrollbar-hide::-webkit-scrollbar {
        display: none;
    }

    .flex-1 { flex: 1; }
    .flex-shrink-0 { flex-shrink: 0; }
    .bg-opacity-75 { background-color: rgba(0, 0, 0, 0.75); }
    .hidden { display: none; }
</style>
```

</head>
<body>
    <div id="app"></div>

```
<script>
    let gameState = {
        bankName: "",
        initialCapital: 50000000000,
        currentCapital: 50000000000,
        totalProfit: 0,
        depositRate: 2.5,
        depositCustomers: 100,
        avgDepositAmount: 50000000,
        totalDepositBalance: 5000000000,
        assetYield: 3.5,
        loanRate: 5.0,
        loanCustomers: 50,
        avgLoanAmount: 100000000,
        totalLoanBalance: 5000000000,
        defaultRate: 0.05,
        advertising: 1000000,
        round: 1,
        year: 1,
        month: 1,
        currentTime: 9,
        isBusinessHours: true,
        dayEnded: false,
        gameStarted: false
    };

    let uiState = {
        currentEvent: null,
        marketReactions: [],
        showDayEndPopup: false,
        customers: [],
        tellerBusy: [false, false, false],
        dayResults: null,
        showInputModal: false,
        inputType: '',
        inputValue: '',
        inputLabel: ''
    };

    let gameTimer = null;
    let customerTimer = null;

    function formatCurrency(amount) {
        if (amount >= 1000000000000) {
            return `${(amount / 1000000000000).toFixed(1)}ì¡°`;
        } else if (amount >= 100000000) {
            return `${(amount / 100000000).toFixed(0)}ì–µ`;
        } else if (amount >= 10000) {
            return `${(amount / 10000).toFixed(0)}ë§Œ`;
        }
        return `${Math.round(amount / 1000)}ì²œ`;
    }

    function formatTime(time) {
        const hour = Math.floor(time);
        const minute = Math.round((time % 1) * 60);
        return `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`;
    }

    const marketEvents = [
        { name: "í˜¸í™©", effect: "ê³ ê°â†‘25%", multiplier: 1.25, yieldBonus: 0.5, defaultChange: -0.3 },
        { name: "ì¹¨ì²´", effect: "ê³ ê°â†“20%", multiplier: 0.8, yieldBonus: -0.3, defaultChange: 0.6 },
        { name: "ê¸ˆë¦¬ì¸ìƒ", effect: "ì˜ˆê¸ˆâ†‘ëŒ€ì¶œâ†“", depositMultiplier: 1.2, loanMultiplier: 0.85, defaultChange: 0.2 },
        { name: "ë¶€ë™ì‚°í˜¸í™©", effect: "ëŒ€ì¶œâ†‘40%", loanMultiplier: 1.4, defaultChange: -0.1 },
        { name: "ì•ˆì •", effect: "ë³€í™”ì—†ìŒ", multiplier: 1.0, defaultChange: 0 }
    ];

    function generateMarketReactions(depositRate, loanRate, bankName) {
        const reactions = [];
        if (depositRate >= 3.3) {
            reactions.push({ type: 'positive', icon: 'ğŸ˜Š', message: `"${depositRate}% ì¢‹ë„¤ìš”!"` });
        } else if (depositRate < 2.3) {
            reactions.push({ type: 'negative', icon: 'ğŸ˜', message: `"${depositRate}% ë‚®ì•„ìš”"` });
        }
        return reactions.slice(0, 1);
    }

    function calculateDayResults() {
        const event = marketEvents[Math.floor(Math.random() * marketEvents.length)];
        uiState.currentEvent = event;

        const adEffect = Math.min(gameState.advertising / 1000000, 3);
        const baseDepositCustomers = Math.max(10, 100 - (gameState.depositRate - 2.8) * (-30) + adEffect * 15);
        const newDepositCustomers = Math.floor(baseDepositCustomers * (event.depositMultiplier || event.multiplier || 1));
        const newTotalDepositBalance = newDepositCustomers * gameState.avgDepositAmount;

        const baseLoanCustomers = Math.max(5, 80 - (gameState.loanRate - 5.2) * 20 + adEffect * 10);
        const newLoanCustomers = Math.floor(baseLoanCustomers * (event.loanMultiplier || event.multiplier || 1));
        const newLoanExecuted = newLoanCustomers * gameState.avgLoanAmount;

        const actualLoanExecuted = gameState.currentCapital >= newLoanExecuted ? newLoanExecuted : gameState.currentCapital;
        const actualNewLoanCustomers = actualLoanExecuted / gameState.avgLoanAmount;
        const newTotalLoanBalance = gameState.totalLoanBalance + actualLoanExecuted;

        const adjustedDefaultRate = Math.max(0.01, Math.min(0.25, (gameState.defaultRate + Math.random() * 0.1 - 0.05) * (1 + (event.defaultChange || 0))));

        const depositInterestCost = newTotalDepositBalance * (gameState.depositRate / 100);
        const assetOperationIncome = newTotalDepositBalance * ((gameState.assetYield + (event.yieldBonus || 0)) / 100);
        const loanInterestIncome = newTotalLoanBalance * (gameState.loanRate / 100);
        const defaultLoss = newTotalLoanBalance * adjustedDefaultRate;
        const operatingCost = (gameState.initialCapital * 0.015) + gameState.advertising;

        const netIncome = assetOperationIncome + loanInterestIncome - depositInterestCost - defaultLoss - operatingCost;

        return {
            event, depositCustomers: newDepositCustomers, totalDepositBalance: newTotalDepositBalance,
            depositInterestCost, assetOperationIncome, loanCustomers: actualNewLoanCustomers,
            newLoanExecuted: actualLoanExecuted, totalLoanBalance: newTotalLoanBalance,
            loanInterestIncome, defaultLoss, newCurrentCapital: Math.max(0, gameState.currentCapital - actualLoanExecuted),
            operatingCost, netIncome, capitalShortage: newLoanExecuted > gameState.currentCapital
        };
    }

    function processDay() {
        const results = calculateDayResults();
        uiState.dayResults = results;

        const nextMonth = gameState.month === 12 ? 1 : gameState.month + 1;
        const nextYear = gameState.month === 12 ? gameState.year + 1 : gameState.year;

        gameState.depositCustomers = results.depositCustomers;
        gameState.loanCustomers = results.loanCustomers;
        gameState.totalDepositBalance = results.totalDepositBalance;
        gameState.totalLoanBalance = results.totalLoanBalance;
        gameState.currentCapital = results.newCurrentCapital;
        gameState.totalProfit += results.netIncome;
        gameState.defaultRate = results.defaultRate || gameState.defaultRate;
        gameState.round += 1;
        gameState.month = nextMonth;
        gameState.year = nextYear;
        gameState.currentTime = 9;
        gameState.isBusinessHours = true;
        gameState.dayEnded = false;

        uiState.marketReactions = generateMarketReactions(gameState.depositRate, gameState.loanRate, gameState.bankName);
        uiState.showDayEndPopup = false;

        startTimers();
        render();
    }

    function startGame() {
        gameState.gameStarted = true;
        gameState.totalDepositBalance = gameState.depositCustomers * gameState.avgDepositAmount;
        gameState.totalLoanBalance = gameState.loanCustomers * gameState.avgLoanAmount;
        startTimers();
        render();
    }

    function startTimers() {
        clearTimers();
        if (gameState.gameStarted && gameState.isBusinessHours) {
            gameTimer = setInterval(() => {
                gameState.currentTime += 0.5;
                if (gameState.currentTime >= 18) {
                    gameState.currentTime = 18;
                    gameState.isBusinessHours = false;
                    gameState.dayEnded = true;
                    uiState.showDayEndPopup = true;
                    clearTimers();
                    render();
                }
                updateTimeDisplay();
            }, 1000);

            customerTimer = setInterval(() => {
                if (Math.random() < 0.2) {
                    const newCustomer = {
                        id: Date.now() + Math.random(),
                        type: Math.random() < 0.6 ? 'deposit' : 'loan',
                        position: -15,
                        speed: 1 + Math.random()
                    };
                    uiState.customers = [...uiState.customers.slice(-1), newCustomer];
                }

                uiState.customers = uiState.customers.map(customer => ({
                    ...customer,
                    position: customer.position + customer.speed
                })).filter(customer => customer.position < 380);

                uiState.tellerBusy = uiState.tellerBusy.map(() => Math.random() < 0.1);
                updateCustomerAnimation();
            }, 1000);
        }
    }

    function advanceTime() {
        if (gameState.gameStarted && gameState.isBusinessHours) {
            gameState.currentTime += 1;
            if (gameState.currentTime >= 18) {
                gameState.currentTime = 18;
                gameState.isBusinessHours = false;
                gameState.dayEnded = true;
                uiState.showDayEndPopup = true;
                clearTimers();
            }
            updateTimeDisplay();
            render();
        }
    }

    function clearTimers() {
        if (gameTimer) { clearInterval(gameTimer); gameTimer = null; }
        if (customerTimer) { clearInterval(customerTimer); customerTimer = null; }
    }

    function updateTimeDisplay() {
        const timeEl = document.getElementById('current-time');
        if (timeEl) {
            timeEl.textContent = formatTime(gameState.currentTime);
            if (gameState.currentTime >= 17.5) {
                timeEl.className = 'font-mono text-red-300 animate-pulse text-xs';
            } else if (gameState.currentTime >= 17) {
                timeEl.className = 'font-mono text-yellow-300 text-xs';
            } else {
                timeEl.className = 'font-mono text-green-300 text-xs';
            }
        }
        updateWallClock();
    }

    function updateWallClock() {
        const hour = gameState.currentTime % 12;
        const minute = (gameState.currentTime % 1) * 60;
        const hourAngle = (hour * 30) + (minute * 0.5);
        const minuteAngle = minute * 6;

        const hourHand = document.getElementById('hour-hand');
        const minuteHand = document.getElementById('minute-hand');

        if (hourHand) {
            hourHand.style.transform = `translate(-50%, -100%) rotate(${hourAngle}deg)`;
        }
        if (minuteHand) {
            minuteHand.style.transform = `translate(-50%, -100%) rotate(${minuteAngle}deg)`;
        }
    }

    function updateCustomerAnimation() {
        const customerArea = document.getElementById('customer-area');
        if (!customerArea) return;

        customerArea.innerHTML = '';
        uiState.customers.forEach(customer => {
            const customerEl = document.createElement('div');
            customerEl.className = 'absolute';
            customerEl.style.left = `${customer.position}px`;
            customerEl.style.bottom = '0px';
            customerEl.style.fontSize = '6px';
            customerEl.innerHTML = customer.type === 'deposit' ? 'ğŸ‘¨â€ğŸ’¼' : 'ğŸ‘©â€ğŸ’¼';
            customerArea.appendChild(customerEl);
        });

        for (let i = 0; i < 3; i++) {
            const tellerEl = document.getElementById(`teller-${i}`);
            if (tellerEl) {
                tellerEl.className = `absolute left-1/2 -translate-x-1/2 ${uiState.tellerBusy[i] ? 'animate-bounce' : ''}`;
            }
        }
    }

    function openInputModal(type, currentValue, label) {
        uiState.inputType = type;
        uiState.inputValue = currentValue.toString();
        uiState.inputLabel = label;
        uiState.showInputModal = true;
        render();
        setTimeout(() => {
            const input = document.getElementById('modal-input');
            if (input) input.focus();
        }, 100);
    }

    function closeInputModal() {
        uiState.showInputModal = false;
        render();
    }

    function applyInputValue() {
        const numValue = parseFloat(uiState.inputValue);
        if (isNaN(numValue)) return;

        let newValue = numValue;
        switch (uiState.inputType) {
            case 'depositRate':
                newValue = Math.max(1, Math.min(5, numValue));
                gameState.depositRate = newValue;
                break;
            case 'loanRate':
                newValue = Math.max(3, Math.min(10, numValue));
                gameState.loanRate = newValue;
                break;
            case 'advertising':
                newValue = Math.max(0, Math.min(5000000, numValue));
                gameState.advertising = Math.round(newValue);
                break;
        }
        closeInputModal();
    }

    function createSlider(id, label, value, min, max, step, unit, type) {
        const formatValue = (val) => {
            if (unit === 'ì›') return formatCurrency(val);
            return val + unit;
        };

        return `
            <div class="bg-gray-100 p-1 rounded mb-1">
                <div class="flex justify-between items-center mb-1">
                    <label class="font-bold text-gray-800 text-xs">${label}</label>
                    <div class="flex items-center gap-1">
                        <span class="font-mono font-bold text-blue-600 text-xs" id="${id}-value">
                            ${formatValue(value)}
                        </span>
                        <button onclick="openInputModal('${type}', ${value}, '${label}')" 
                                class="btn btn-secondary" style="font-size: 0.5rem; padding: 0.1rem 0.15rem;">
                            ì§ì ‘
                        </button>
                    </div>
                </div>
                <input type="range" id="${id}" min="${min}" max="${max}" step="${step}" value="${value}" 
                       class="slider w-full" onchange="updateSliderValue('${id}', '${type}', '${unit}')"/>
            </div>
        `;
    }

    function updateSliderValue(id, type, unit) {
        const slider = document.getElementById(id);
        const valueDisplay = document.getElementById(id + '-value');
        
        if (!slider || !valueDisplay) return;
        
        const value = parseFloat(slider.value);
        
        switch (type) {
            case 'depositRate': gameState.depositRate = value; break;
            case 'loanRate': gameState.loanRate = value; break;
            case 'advertising': gameState.advertising = parseInt(value); break;
        }
        
        const formatValue = (val) => {
            if (unit === 'ì›') return formatCurrency(val);
            return val + unit;
        };
        
        valueDisplay.textContent = formatValue(value);
    }

    function render() {
        const app = document.getElementById('app');
        
        if (!gameState.gameStarted) {
            app.innerHTML = renderStartScreen();
            return;
        }
        
        app.innerHTML = renderGameScreen();
        
        if (uiState.showDayEndPopup) {
            app.insertAdjacentHTML('beforeend', renderDayEndPopup());
        }
        
        if (uiState.showInputModal) {
            app.insertAdjacentHTML('beforeend', renderInputModal());
        }
        
        updateTimeDisplay();
        updateCustomerAnimation();
    }

    function renderStartScreen() {
        return `
            <div class="bg-gradient-start p-2 h-full">
                <div class="text-center mb-2">
                    <h1 class="text-base font-bold text-white mb-1">ğŸ¦ ì€í–‰ç‹</h1>
                    <p class="text-xs text-blue-200">ì€í–‰ ê²½ì˜ ì‹œë®¬ë ˆì´ì…˜</p>
                    <p class="text-xs text-blue-300">ğŸ’° ìˆ˜ì‹ â†’ìš´ìš©ìˆ˜ìµ | ğŸ’¸ ì—¬ì‹ â†’ì´ììˆ˜ìµ</p>
                </div>

                <div class="bg-gray-900 border-2 border-blue-400 rounded p-2">
                    <div class="mb-2">
                        <label class="block text-blue-300 font-bold mb-1 text-xs">ğŸ›ï¸ ì€í–‰ ì´ë¦„:</label>
                        <input type="text" id="bank-name-input" placeholder="ì€í–‰ ì´ë¦„ ì…ë ¥" value="${gameState.bankName}"
                               class="input bg-gray-700 border-gray-600 text-white"
                               onchange="gameState.bankName = this.value; render();"/>
                    </div>

                    <div class="bg-gray-800 p-1 rounded mb-2">
                        <h3 class="text-yellow-300 font-bold mb-1 text-xs">ğŸ¯ ê²Œì„ í•µì‹¬</h3>
                        <ul class="text-gray-300 text-xs">
                            <li>ğŸ’° ìˆ˜ì‹ : ì˜ˆê¸ˆ ìœ ì¹˜ â†’ ìê¸ˆ ìš´ìš©</li>
                            <li>ğŸ’¸ ì—¬ì‹ : ìë³¸ê¸ˆìœ¼ë¡œ ëŒ€ì¶œ â†’ ì´ì ìˆ˜ìµ</li>
                            <li>ğŸ“Š ëª©í‘œ: ì´ì ë§ˆì§„ ìµœì í™”</li>
                            <li>âš ï¸ ì£¼ì˜: ì—°ì²´ ì†ì‹¤, ìë³¸ê¸ˆ ê³ ê°ˆ</li>
                        </ul>
                    </div>

                    <button onclick="startGame()" ${gameState.bankName.trim() ? '' : 'disabled'}
                            class="btn ${gameState.bankName.trim() ? 'btn-primary' : 'btn-secondary'} w-full py-1 text-sm">
                        ${gameState.bankName.trim() ? `ğŸš€ ${gameState.bankName} ì€í–‰ ì‹œì‘!` : 'ì€í–‰ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”'}
                    </button>
                </div>
            </div>
        `;
    }

    function renderGameScreen() {
        return `
            <div style="height: 550px; display: flex; flex-direction: column; background: white;">
                <!-- ìƒë‹¨ ë°” (30px) -->
                <div class="bg-gray-800 text-white p-1" style="height: 30px; flex-shrink: 0;">
                    <div class="flex justify-between items-center">
                        <div>
                            <span class="text-xs font-bold">ğŸ¦ ${gameState.bankName}</span>
                            <span class="text-xs text-blue-300 ml-1">ğŸ“… ${gameState.year}ë…„ ${gameState.month}ì›” ${gameState.round}ì¼</span>
                        </div>
                        <div class="flex items-center gap-1">
                            <div id="current-time" class="font-mono text-xs text-green-300">ğŸ• ${formatTime(gameState.currentTime)}</div>
                            <div class="text-green-300 font-bold text-xs">ğŸ’° ${formatCurrency(gameState.currentCapital)}</div>
                            ${gameState.isBusinessHours ? `
                                <button onclick="advanceTime()" class="btn btn-primary text-xs px-1 py-1">â°</button>
                            ` : `
                                <button onclick="uiState.showDayEndPopup = true; render();" class="btn btn-primary text-xs px-1 py-1">ğŸŒ™</button>
                            `}
                        </div>
                    </div>
                </div>

                <!-- ì€í–‰ ì• ë‹ˆë©”ì´ì…˜ (40px) -->
                <div class="relative overflow-hidden bg-gradient-bank" style="height: 40px; flex-shrink: 0;">
                    <!-- ë²½ì‹œê³„ -->
                    <div class="absolute top-1 left-1">
                        <div class="bg-white rounded-full border border-yellow-600" style="width: 12px; height: 12px;">
                            <div class="relative w-full h-full rounded-full bg-white">
                                <div class="absolute top-1/2 left-1/2 bg-gray-800 rounded-full z-30" style="width: 0.5px; height: 0.5px; transform: translate(-50%, -50%);"></div>
                                <div id="hour-hand" class="absolute top-1/2 left-1/2 bg-gray-800 z-20" style="width: 0.3px; height: 3px; transform-origin: bottom; transform: translate(-50%, -100%) rotate(0deg);"></div>
                                <div id="minute-hand" class="absolute top-1/2 left-1/2 bg-gray-600 z-10" style="width: 0.2px; height: 4px; transform-origin: bottom; transform: translate(-50%, -100%) rotate(0deg);"></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ë°”ë‹¥ -->
                    <div class="absolute bottom-0 w-full bg-gray-400 border-t border-gray-500" style="height: 8px;"></div>
                    
                    <!-- ì°½êµ¬ -->
                    <div class="absolute left-1/2 -translate-x-1/2 flex gap-1" style="bottom: 8px;">
                        ${[0, 1, 2].map(i => `
                            <div class="relative">
                                <div class="bg-yellow-800 border border-yellow-600 rounded" style="width: 8px; height: 5px;"></div>
                                <div id="teller-${i}" class="absolute left-1/2 -translate-x-1/2 ${uiState.tellerBusy[i] ? 'animate-bounce' : ''}" 
                                     style="font-size: 4px; top: -6px;">ğŸ‘¨â€ğŸ’¼</div>
                                <div class="absolute left-1/2 -translate-x-1/2 bg-blue-600 text-white rounded" 
                                     style="font-size: 0.35rem; bottom: -4px; padding: 0px 1px;">${i + 1}</div>
                            </div>
                        `).join('')}
                    </div>

                    <!-- ê³ ê°ë“¤ -->
                    <div id="customer-area" class="absolute bottom-0 left-0 w-full" style="height: 8px; bottom: 1px;"></div>

                    <!-- ì€í–‰ ê°„íŒ -->
                    <div class="absolute top-1 left-1/2 -translate-x-1/2">
                        <div class="bg-blue-800 text-white rounded border border-blue-600 px-1" style="padding: 1px 3px;">
                            <h2 class="text-xs font-bold text-center">${gameState.bankName}</h2>
                        </div>
                    </div>

                    <!-- ê¸ˆë¦¬ ì•ˆë‚´íŒ -->
                    <div class="absolute top-1 right-1 bg-white border border-gray-300 rounded p-1" style="font-size: 0.4rem;">
                        <div class="font-bold text-gray-800">ğŸ’°</div>
                        <div>ì˜ˆê¸ˆ: <span class="font-bold text-blue-600">${gameState.depositRate}%</span></div>
                        <div>ëŒ€ì¶œ: <span class="font-bold text-green-600">${gameState.loanRate}%</span></div>
                    </div>
                </div>

                <!-- ë©”ì¸ ì½˜í…ì¸  (480px) -->
                <div style="flex: 1; overflow-y: auto; padding: 0.2rem;" class="scrollbar-hide">
                    <!-- í•µì‹¬ ì§€í‘œ -->
                    <div class="mb-1">
                        <h3 class="text-xs font-bold text-gray-800 mb-1">ğŸ“Š ê²½ì˜ í˜„í™©</h3>
                        
                        <!-- ìì‚°/ë¶€ì±„ í˜„í™© -->
                        <div class="grid grid-cols-3 gap-1 mb-1">
                            <div class="bg-blue-100 p-1 rounded">
                                <div class="text-blue-800 font-bold text-xs">ğŸ’° ìˆ˜ì‹ </div>
                                <div class="text-xs">
                                    <div>ê³ ê°: <span class="font-bold text-blue-600">${gameState.depositCustomers}ëª…</span></div>
                                    <div>ì˜ˆê¸ˆ: <span class="font-bold text-blue-600">${formatCurrency(gameState.totalDepositBalance)}</span></div>
                                </div>
                            </div>
                            
                            <div class="bg-green-100 p-1 rounded">
                                <div class="text-green-800 font-bold text-xs">ğŸ’¸ ì—¬ì‹ </div>
                                <div class="text-xs">
                                    <div>ê³ ê°: <span class="font-bold text-green-600">${gameState.loanCustomers}ëª…</span></div>
                                    <div>ëŒ€ì¶œ: <span class="font-bold text-green-600">${formatCurrency(gameState.totalLoanBalance)}</span></div>
                                </div>
                            </div>

                            <div class="bg-yellow-100 p-1 rounded">
                                <div class="text-yellow-600 font-bold text-xs">ğŸ¦ í˜„í™©</div>
                                <div class="text-xs">
                                    <div>ìë³¸: <span class="font-bold text-yellow-600">${formatCurrency(gameState.currentCapital)}</span></div>
                                    <div>ìˆ˜ìµ: <span class="font-bold ${gameState.totalProfit >= 0 ? 'text-green-600' : 'text-red-600'}">
                                        ${formatCurrency(gameState.totalProfit)}
                                    </span></div>
                                </div>
                            </div>
                        </div>

                        ${gameState.currentCapital < gameState.initialCapital * 0.1 ? `
                            <div class="alert alert-danger">
                                <div class="flex items-center">
                                    <span class="mr-1">âš ï¸</span>
                                    <p class="font-bold text-xs">ìë³¸ê¸ˆ ë¶€ì¡± ê²½ê³ !</p>
                                </div>
                            </div>
                        ` : ''}
                    </div>

                    ${uiState.marketReactions.length > 0 ? `
                        <div class="mb-1">
                            <h3 class="text-xs font-bold text-gray-800 mb-1">ğŸ’¬ ê³ ê° ë°˜ì‘</h3>
                            ${uiState.marketReactions.map(reaction => `
                                <div class="p-1 rounded border-l-2 mb-1 ${
                                    reaction.type === 'positive' ? 'bg-green-100 border-green-400' :
                                    'bg-red-50 border-red-400'
                                }">
                                    <div class="flex items-center">
                                        <span class="text-xs mr-1">${reaction.icon}</span>
                                        <p class="text-xs">${reaction.message}</p>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    ` : ''}

                    ${uiState.currentEvent ? `
                        <div class="alert alert-warning">
                            <div class="flex items-center">
                                <span class="mr-1">âš ï¸</span>
                                <div>
                                    <h3 class="text-xs font-bold">ğŸ“° ${uiState.currentEvent.name}</h3>
                                    <p class="text-xs">${uiState.currentEvent.effect}</p>
                                </div>
                            </div>
                        </div>
                    ` : ''}
                </div>
            </div>
        `;
    }

    function renderDayEndPopup() {
        return `
            <div class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-1">
                <div class="bg-blue-900 border-2 border-blue-400 rounded p-2 w-full max-h-full overflow-y-auto scrollbar-hide">
                    <div class="text-center mb-1">
                        <h3 class="text-base font-bold text-white mb-1">ğŸŒ™ ì˜ì—… ë§ˆê°</h3>
                        <p class="text-blue-200 text-xs">ë‚´ì¼ ì˜ì—…ì„ ì¤€ë¹„í•´ì£¼ì„¸ìš”</p>
                    </div>

                    ${uiState.dayResults ? `
                        <div class="bg-blue-800 p-1 rounded mb-1">
                            <h4 class="text-blue-200 font-bold mb-1 text-xs">ğŸ“Š ì˜¤ëŠ˜ ê²°ê³¼</h4>
                            <div class="text-xs text-blue-100">
                                <div class="flex justify-between mb-1">
                                    <span>ğŸ“¥ ì˜ˆê¸ˆ: ${Math.round(uiState.dayResults.depositCustomers)}ëª…</span>
                                    <span>ğŸ“¤ ëŒ€ì¶œ: ${Math.round(uiState.dayResults.loanCustomers)}ëª…</span>
                                </div>
                                <div class="border-t border-blue-600 pt-1">
                                    <div class="text-green-300">ğŸ’° ìˆ˜ìµ: ${formatCurrency(uiState.dayResults.assetOperationIncome + uiState.dayResults.loanInterestIncome)}</div>
                                    <div class="text-red-300">ğŸ’¸ ë¹„ìš©: ${formatCurrency(uiState.dayResults.depositInterestCost + uiState.dayResults.defaultLoss + uiState.dayResults.operatingCost)}</div>
                                    <div class="font-bold ${uiState.dayResults.netIncome >= 0 ? 'text-green-300' : 'text-red-300'}">
                                        ğŸ“ˆ ìˆœì´ìµ: ${formatCurrency(uiState.dayResults.netIncome)}
                                    </div>
                                </div>
                                ${uiState.dayResults.capitalShortage ? `
                                    <div class="text-yellow-300 text-xs mt-1">âš ï¸ ìë³¸ê¸ˆ ë¶€ì¡±ìœ¼ë¡œ ëŒ€ì¶œ ì œí•œ</div>
                                ` : ''}
                            </div>
                        </div>
                    ` : ''}
                    
                    <div class="mb-2">
                        ${createSlider('deposit-rate-slider', 'ğŸ’° ìˆ˜ì‹  ì´ììœ¨', gameState.depositRate, 1, 5, 0.1, '%', 'depositRate')}
                        ${createSlider('loan-rate-slider', 'ğŸ’¸ ì—¬ì‹  ì´ììœ¨', gameState.loanRate, 3, 10, 0.1, '%', 'loanRate')}
                        ${createSlider('advertising-slider', 'ğŸ“¢ ê´‘ê³ ë¹„', gameState.advertising, 0, 5000000, 100000, 'ì›', 'advertising')}
                    </div>

                    <button onclick="processDay()" class="btn btn-primary w-full py-1 text-sm">
                        ğŸŒ… ë‹¤ìŒ ë‚  ì˜ì—… ì‹œì‘
                    </button>
                </div>
            </div>
        `;
    }

    function renderInputModal() {
        return `
            <div class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-2">
                <div class="bg-white rounded w-full">
                    <div class="p-2">
                        <h3 class="text-sm font-bold text-gray-800 mb-1">${uiState.inputLabel} ì§ì ‘ ì…ë ¥</h3>
                        
                        <div class="mb-2">
                            <label class="block text-xs font-bold text-gray-700 mb-1">ìƒˆë¡œìš´ ê°’ì„ ì…ë ¥í•˜ì„¸ìš”</label>
                            <input type="number" id="modal-input" value="${uiState.inputValue}"
                                   onchange="uiState.inputValue = this.value"
                                   onkeypress="if(event.key === 'Enter') applyInputValue(); if(event.key === 'Escape') closeInputModal();"
                                   class="input text-xs" placeholder="ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš”"/>
                            <div class="text-xs text-gray-600 mt-1">
                                ${uiState.inputType === 'depositRate' ? 'ë²”ìœ„: 1.0% ~ 5.0%' : ''}
                                ${uiState.inputType === 'loanRate' ? 'ë²”ìœ„: 3.0% ~ 10.0%' : ''}
                                ${uiState.inputType === 'advertising' ? 'ë²”ìœ„: 0ì› ~ 500ë§Œì›' : ''}
                            </div>
                        </div>

                        <div class="flex gap-1">
                            <button onclick="closeInputModal()" class="btn btn-secondary flex-1 text-xs">ì·¨ì†Œ</button>
                            <button onclick="applyInputValue()" class="btn btn-primary flex-1 text-xs">ì ìš©</button>
                        </div>
                    </div>
                </div>
            </div>
        `;
    }

    function init() {
        render();
    }

    document.addEventListener('DOMContentLoaded', init);
</script>
```

</body>
</html>